function e(e,t,o){const n=document.getElementById("myChart");new Chart(n,{type:"line",data:{labels:e,datasets:[{label:o,data:t,borderWidth:1}]},options:{}})}function t(e,t){let o=e.timestamp,n=new Date(1e3*o);const r=n.getFullYear(),s=("0"+(n.getMonth()+1)).slice(-2),a=("0"+n.getDate()).slice(-2);n=`${r}-${s}-${a}`;let c=t.xAxis[t.xAxis.length-1];n>c?(t.xAxis.push(n),t.yAxis.push(e.close)):n===c&&(t.yAxis.pop(),t.yAxis.push(e.close))}function o(e,t){return fetch(`https://eodhd.com/api/real-time/${e}?api_token=${t}&fmt=json`).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>e)).catch((e=>{console.error("There was a problem with your fetch operation:",e)}))}function n(e,t,o){let n=document.getElementById(`${e}`);n.innerHTML="";let r=`<p>${t} <span></span>${o}%</p>`;n.insertAdjacentHTML("beforeEnd",r)}const r="ETFBM40TR".concat(".","WAR");let s;var a;(a="65fd2d716aebf2.80647901",fetch(`https://eodhd.com/api/exchanges-list/?api_token=${a}&fmt=json`).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>e)).catch((e=>{console.error("There was a problem with your fetch operation:",e)}))).then((e=>console.log(e))).catch((e=>console.error(e))),function(e,t){fetch(`https://eodhd.com/api/intraday/${e}?interval=5m&api_token=${t}&fmt=json`).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>e)).catch((e=>{console.error("There was a problem with your fetch operation:",e)}))}(r,"65fd2d716aebf2.80647901"),function(e,t){return fetch(`https://eodhd.com/api/eod/${e}?period=d&api_token=${t}&fmt=json`).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>e)).catch((e=>{console.error("There was a problem with your fetch operation:",e)}))}(r,"65fd2d716aebf2.80647901").then((e=>{s={yAxis:[],xAxis:[]};for(let t=0;t<e.length;t++)s.yAxis.push(e[t].close),s.xAxis.push(e[t].date);return{chartData:s}})).then((()=>{o(r,"65fd2d716aebf2.80647901").then((o=>{t(o,s),n("currentData","ETFBM40TR",o.change_p),e(s.xAxis,s.yAxis,"ETFBM40TR")}))}));let c=document.querySelector(".button");console.log(c),c.addEventListener("click",(function(){console.log(s)}));setInterval((()=>{o(r,"65fd2d716aebf2.80647901").then((e=>{t(e,s),n("currentData","ETFBM40TR",e.change_p),console.log("updated")}))}),6e4);
//# sourceMappingURL=index.7fe9961c.js.map
