!function(){function t(t,o){var n="https://eodhd.com/api/real-time/".concat(t,"?api_token=").concat(o,"&fmt=json");return fetch(n).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){return t})).catch((function(t){console.error("There was a problem with your fetch operation:",t)}))}var o,n,e="65fd2d716aebf2.80647901",r="ETFBM40TR",c=r.concat(".","WAR");(o=e,n="https://eodhd.com/api/exchanges-list/?api_token=".concat(o,"&fmt=json"),fetch(n).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){return t})).catch((function(t){console.error("There was a problem with your fetch operation:",t)}))).then((function(t){return console.log(t)})).catch((function(t){return console.error(t)})),function(t,o){var n="https://eodhd.com/api/intraday/".concat(t,"?interval=5m&api_token=").concat(o,"&fmt=json");fetch(n).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){return t})).catch((function(t){console.error("There was a problem with your fetch operation:",t)}))}(c,e),function(t,o){var n="https://eodhd.com/api/eod/".concat(t,"?period=d&api_token=").concat(o,"&fmt=json");return fetch(n).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){return t})).catch((function(t){console.error("There was a problem with your fetch operation:",t)}))}(c,e).then((function(t){for(var o={yAxis:[],xAxis:[]},n=0;n<t.length;n++)o.yAxis.push(t[n].close),o.xAxis.push(t[n].date);return{yAxis:o.yAxis,xAxis:o.xAxis}})).then((function(o){t(c,e).then((function(t){var n=t.timestamp,e=new Date(1e3*n),c=e.getFullYear(),a=("0"+(e.getMonth()+1)).slice(-2),i=("0"+e.getDate()).slice(-2);e="".concat(c,"-").concat(a,"-").concat(i);var s,h,u,f,p=o.xAxis[o.xAxis.length-1];e>p?(console.log("data bieżąca jest większa od ostatniego dnia na osi czasu"),o.xAxis.push(e),o.yAxis.push(t.close)):e===p&&(o.yAxis.pop(),o.yAxis.push(t.close)),s=o.xAxis,h=o.yAxis,u=r,f=document.getElementById("myChart"),new Chart(f,{type:"line",data:{labels:s,datasets:[{label:u,data:h,borderWidth:1}]},options:{}})}))}))}();
//# sourceMappingURL=index.9baf5290.js.map
