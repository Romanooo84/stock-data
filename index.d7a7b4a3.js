!function(){function t(t,n,e){var o=document.getElementById("myChart");return newDataChart=new Chart(o,{type:"line",data:{labels:t,datasets:[{label:e,data:n,borderWidth:1,pointRadius:1}]},options:{}}),newDataChart}function n(t,n){var e=t.timestamp,o=new Date(1e3*e),r=o.getFullYear(),c=("0"+(o.getMonth()+1)).slice(-2),a=("0"+o.getDate()).slice(-2);o="".concat(r,"-").concat(c,"-").concat(a);var i=n.xAxis[n.xAxis.length-1];o>i?(n.xAxis.push(o),n.yAxis.push(t.close)):o===i&&(n.yAxis.pop(),console.log(t.close),n.yAxis.push(t.close))}function e(t,n){var e="https://eodhd.com/api/real-time/".concat(t,"?api_token=").concat(n,"&fmt=json");return fetch(e).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){return t})).catch((function(t){console.error("There was a problem with your fetch operation:",t)}))}function o(t,n,e){var o=document.getElementById("".concat(t));o.innerHTML="";var r="<p>".concat(n," <span></span>").concat(e,"%</p>");o.insertAdjacentHTML("beforeEnd",r)}var r,c,a,i="65fd2d716aebf2.80647901",s="ETFBW20LV",h=s.concat(".","WAR");ctx=document.getElementById("myChart"),(c=i,a="https://eodhd.com/api/exchanges-list/?api_token=".concat(c,"&fmt=json"),fetch(a).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){return t})).catch((function(t){console.error("There was a problem with your fetch operation:",t)}))).then((function(t){return console.log(t)})).catch((function(t){return console.error(t)})),function(t,n){var e="https://eodhd.com/api/intraday/".concat(t,"?interval=5m&api_token=").concat(n,"&fmt=json");fetch(e).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){return t})).catch((function(t){console.error("There was a problem with your fetch operation:",t)}))}(h,i),function(t,n){var e="https://eodhd.com/api/eod/".concat(t,"?period=d&api_token=").concat(n,"&fmt=json");return fetch(e).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){return t})).catch((function(t){console.error("There was a problem with your fetch operation:",t)}))}(h,i).then((function(t){r={yAxis:[],xAxis:[]};for(var n=0;n<t.length;n++)r.yAxis.push(t[n].close),r.xAxis.push(t[n].date);return{chartData:r}})).then((function(){e(h,i).then((function(e){n(e,r),o("currentData",s,e.change_p),t(r.xAxis,r.yAxis,s)}))}));var u=document.querySelector(".button");console.log(u),u.addEventListener("click",(function(){console.log(r)}));setInterval((function(){e(h,i).then((function(t){n(t,r),o("currentData",s,t.change_p)})),newDataChart.options.animation=!1,newDataChart.update()}),1e4)}();
//# sourceMappingURL=index.d7a7b4a3.js.map
